(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{982:function(e,t,r){Promise.resolve().then(r.bind(r,6606))},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},3472:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let a=r(5355);function n(e){let{createServerReference:t}=r(7355);return t(e,a.callServer)}},6606:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(3827),n=r(4090),s=r(7907),o=r(4504),i=r(5275),c=r(449);function l(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[f,p]=(0,n.useState)(!1),[x,h]=(0,n.useState)(""),b=async r=>{r.preventDefault(),h("");let a=parseInt(u,10);if(!t.trim()||6!==t.trim().length){h("Enter a valid 6-character room code");return}if(!l.trim()){h("Enter your name");return}if(isNaN(a)||a<1||a>100){h("Number must be between 1 and 100");return}p(!0);try{let r=new Promise((e,t)=>setTimeout(()=>t(Error("Network timeout - try again")),15e3)),n=await Promise.race([(0,i.Ls)(t.trim().toUpperCase(),l.trim()),r]);n.success&&n.playerId?(sessionStorage.setItem("player_".concat(t.trim().toUpperCase()),n.playerId),sessionStorage.setItem("player_number_".concat(t.trim().toUpperCase()),u),sessionStorage.setItem("player_name_".concat(t.trim().toUpperCase()),l.trim()),e.push("/room/".concat(t.trim().toUpperCase(),"?playerId=").concat(n.playerId,"&number=").concat(a))):(h(n.error||"Failed to join room"),p(!1))}catch(e){h(e.message||"Network error - check your connection"),p(!1)}};return(0,a.jsxs)("main",{className:"relative min-h-screen flex flex-col items-center justify-center px-4",children:[(0,a.jsx)(c.Z,{count:30}),(0,a.jsx)("div",{className:"absolute inset-0 z-0",style:{background:"radial-gradient(ellipse at center, rgba(212,175,55,0.04) 0%, transparent 60%)"}}),(0,a.jsxs)(o.E.div,{className:"relative z-10 w-full max-w-md",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.16,1,.3,1]},children:[(0,a.jsx)("h1",{className:"font-serif text-3xl md:text-4xl text-gold mb-3 text-center",children:"Join the Masquerade"}),(0,a.jsx)("p",{className:"text-white/40 font-sans text-sm mb-10 text-center",children:"Enter the room code and make your choice."}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gold/60 text-xs font-sans uppercase tracking-wider mb-2",children:"Room Code"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value.toUpperCase()),maxLength:6,placeholder:"XXXXXX",className:"w-full px-4 py-3 bg-masquerade-card border border-gold/20 rounded-sm text-white font-mono text-center text-lg tracking-[0.3em] placeholder:text-white/20 focus:outline-none focus:border-gold/50 focus:shadow-[0_0_20px_rgba(212,175,55,0.15)] transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gold/60 text-xs font-sans uppercase tracking-wider mb-2",children:"Your Name"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>d(e.target.value),maxLength:30,placeholder:"Enter your name",className:"w-full px-4 py-3 bg-masquerade-card border border-gold/20 rounded-sm text-white font-sans placeholder:text-white/20 focus:outline-none focus:border-gold/50 focus:shadow-[0_0_20px_rgba(212,175,55,0.15)] transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gold/60 text-xs font-sans uppercase tracking-wider mb-2",children:"Your Number (1–100)"}),(0,a.jsx)("input",{type:"number",value:u,onChange:e=>m(e.target.value),min:1,max:100,placeholder:"Choose wisely...",className:"w-full px-4 py-3 bg-masquerade-card border border-gold/20 rounded-sm text-white font-mono text-center text-lg placeholder:text-white/20 focus:outline-none focus:border-gold/50 focus:shadow-[0_0_20px_rgba(212,175,55,0.15)] transition-all"})]}),x&&(0,a.jsx)(o.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 text-sm font-sans text-center",children:x}),(0,a.jsx)(o.E.button,{type:"submit",disabled:f,className:"w-full px-8 py-4 bg-transparent border border-gold text-gold font-sans font-medium text-base rounded-sm transition-all duration-300 hover:bg-gold/10 hover:shadow-[0_0_30px_rgba(212,175,55,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",whileTap:{scale:.98},children:f?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4 border-2 border-gold/40 border-t-gold rounded-full animate-spin"}),"Joining..."]}):"Enter the Masquerade"})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsx)("button",{onClick:()=>e.push("/"),className:"text-gold/40 text-sm font-sans hover:text-gold/60 transition-colors",children:"← Back"})})]})]})}},449:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(3827),n=r(4090),s=r(4504);function o(e){let{count:t=40}=e,[r,o]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=[];for(let r=0;r<t;r++)e.push({id:r,x:100*Math.random(),y:100*Math.random(),size:3*Math.random()+1,duration:8*Math.random()+6,delay:5*Math.random(),opacity:.5*Math.random()+.1});o(e)},[t]),(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:r.map(e=>(0,a.jsx)(s.E.div,{className:"absolute rounded-full",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),width:e.size,height:e.size,backgroundColor:"#D4AF37"},animate:{y:[0,-30,0],x:[0,20*Math.random()-10,0],opacity:[e.opacity,1.5*e.opacity,e.opacity]},transition:{duration:e.duration,delay:e.delay,repeat:1/0,ease:"easeInOut"}},e.id))})}},5275:function(e,t,r){"use strict";r.d(t,{BM:function(){return l},Gi:function(){return n},Ls:function(){return o},dB:function(){return s},it:function(){return i},jJ:function(){return c}}),r(5355);var a=r(3472),n=(0,a.$)("f972cc93aaa8e5e619e1da89ffcb6130f9d9a302"),s=(0,a.$)("7a9d60296671b80f99ee80e54f5ceb4695f3bd09"),o=(0,a.$)("08e9cf0c01117b3e4e143dc5715de55c768d93d7"),i=(0,a.$)("0036fe03d9fd9a23536c862ebf094439a01b91c2"),c=(0,a.$)("6533112c9a26bbd6e38efa2ebcd06f7fce005398"),l=(0,a.$)("073ce1767dcee64b2fc630df8e98e642631d3a29")}},function(e){e.O(0,[504,971,69,744],function(){return e(e.s=982)}),_N_E=e.O()}]);